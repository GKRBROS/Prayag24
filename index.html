<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prayag24</title>
    <link rel="icon" href="./Logo png without text.png" type="image/png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css">
    <script type="text/javascript" src="./main.js"></script>
    <script type="text/javascript" src="./flipdown.js"></script>
    <link rel="stylesheet" type="text/css" href="flipdown.css">
</head>
<body>
    <div id="main">
        <div class="container">
            <div class="intro">
                <div id="flipdown" class="flipdown"></div>
                <div class="chevron"></div>
                <div class="chevron"></div>
                <div class="cursor typewriter-animation">Your gateway to a parallel digital universe begins here.</div>
                <div class="blinker">Scroll Down!!</div>
                <audio id="myAudio" style="display:none;">
                    <source src="./voice.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
            </div>
        </div>
        <div id="page">
            <!-- <div id="loop"> </div>
            <canvas></canvas> -->
            <div id="videoContainer" class="video-container">
                <video id="vrVideo" autoplay muted playsinline>
                    <!-- Laptop video for screens wider than 768px -->
                    <source src="./vr.mp4" type="video/mp4" media="(min-width: 769px)"> 
                    <!-- Mobile video for screens 768px wide or less -->
                    <source src="./vr1.mp4" type="video/mp4" media="(max-width: 768px)"> 
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js" integrity="sha512-cOH8ndwGgPo+K7pTvMrqYbmI8u8k6Sho3js0gOqVWTmQMlLIi6TbqGWRTpf1ga8ci9H3iPsvDLr4X7xwhC/+DQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js" integrity="sha512-AMl4wfwAmDM1lsQvVBBRHYENn1FR8cfOTpt8QVbb/P55mYOdahHD4LmHM1W55pNe3j/3od8ELzPf/8eNkkjISQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const audio = document.getElementById('myAudio');
        const blinker = document.querySelector('.blinker');
        const videoContainer = document.getElementById('videoContainer');
        const vrVideo = document.getElementById('vrVideo');

        // Prevent scrolling when video is in view
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && entry.intersectionRatio === 1) {
                    // Lock scroll when the video is fully visible
                    document.body.style.overflow = 'hidden';
                    vrVideo.play().catch(error => console.error('Error playing video:', error));
                } else {
                    // Re-enable scrolling when the video is not fully visible
                    document.body.style.overflow = 'auto';
                    vrVideo.pause();
                }
            });
        }, {
            threshold: 1.0 // Trigger only when 100% of the container is visible
        });

        // Start observing the video container
        observer.observe(videoContainer);

        // Once the video ends, transition to the next page
        vrVideo.addEventListener('ended', () => {
            setTimeout(() => {
                window.location.href = ''; // Navigate to the next page
            }, 500);
        });
    }); 
    </script>
    <script src="script.js"></script>
</body>
</html>